#!/bin/bash

# Exit on first failing command.
set -e
# Echo commands to console.
set -x
# Exit on unset variable.
set -u

_tests/lint-frontmatter
_tests/lint-markdown
_tests/check-trailing-whitespace

# Build production site.
BUNDLE_GEMFILE=Gemfile JEKYLL_ENV=production bundle exec jekyll build \
  --config _config.yml,_config_prod.yml

_tests/check-google-analytics-token
_tests/check-twitter-cards
_tests/lint-html "$@"
_tests/check_amazon_links "$@"
